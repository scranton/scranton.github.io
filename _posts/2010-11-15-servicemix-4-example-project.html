---
layout: post
title: ServiceMix 4 Example Project
date: '2010-11-15T14:24:00.000-05:00'
author: Scott Cranton
tags: 
modified_time: '2010-11-15T14:24:10.776-05:00'
blogger_id: tag:blogger.com,1999:blog-6291014512017196310.post-6697508743932545465
blogger_orig_url: http://scott.cranton.com/2010/11/servicemix-4-example-project.html
comments: false
---

I've just pushed a new version of the "Getting Started with ServiceMix 4" example <a href="http://fusesource.com/resources/video-archived-webinars/">webinar</a> project to GitHub (https://github.com/scranton/servicemix4-example-payment-service). My goal is that this example shows best practices for creating ServiceMix 4 projects with Camel. I'm also experimenting with GitHubâ€¦<br /><br />This project is an example of using OSGi, Camel, and ServiceMix together, specifically ServiceMix 4's NMR component. A number of things are shown within this project:<br /> * use of the Camel-NMR component for inter OSGi bundle communication<br /> * dynamic routing combining Camel's recipient list and the OSGi Service Registry<br /> * use of Camel's Content Based Router<br /> * multiple front-end proxies (WS and batch file)<br /> * bridging one way (fire and forget) messaging with request-response<br /> * and much more...<br /><br />The scenario is a payment transfer service where transfer requests can be made either through a WS (SOAP/HTTP) interface or through batch files. These transfer requests are routed to banking services that can come and go at runtime (i.e. new banks can be added and removed at runtime).<br /><br />This solution is a bit over-engineered, but the goal of this effort is to provide examples of best practices in creating applications using these technologies.<br /><br />My plan is over the next few days to post some blog entries on aspects of this project to explain things like: how to communicate between OSGi bundles with Camel, dynamic routing to OSGi bundles that are deployed at runtime, etc. Ultimately I'll get to updating the webinar to talk through this updated code.<br /><br />I'd suggest downloading the 1.0.0 version of this project (https://github.com/scranton/servicemix4-example-payment-service/archives/payment-service-1.0.0) and give it a try with ServiceMix 4.3.0-fuse-02-00 (http://fusesource.com/downloads/). Please feel free to submit ideas for how I could enhance this example; I'm thinking adding in transaction support spanning two bank services would be cool, for example.