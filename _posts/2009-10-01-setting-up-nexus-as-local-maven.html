---
layout: post
title: Setting up Nexus as a local Maven Repository Manager
date: '2009-10-01T14:46:00.000-04:00'
author: Scott Cranton
tags: 
modified_time: '2009-10-01T14:46:56.664-04:00'
blogger_id: tag:blogger.com,1999:blog-6291014512017196310.post-803868692947745198
blogger_orig_url: http://scott.cranton.com/2009/10/setting-up-nexus-as-local-maven.html
comments: false
---

I do a lot with Apache Maven, and I kept hearing about how <a href="http://nexus.sonatype.org/">Nexus</a>&nbsp;helps with better managing your local Maven repository, especially if you go offline a lot, which I do. I was pleasantly surprised as how easy it was to setup and that it did actually seems to speed up my Maven project builds. Sad to get excited about a product that actually does what it claims...<br /><br />My needs are pretty modest in regards to Maven, and most of the Maven projects I deal with are small, so normally dealing with annoyances of offline and/or configuring m2eclipse to know about the 2 other Maven repos I use isn't that bad. However, when I started trying to build all of ServiceMix (24+ Maven projects) and started to see lots and lots of waiting on downloading various dependencies, I decided maybe I'd see if Nexus could help.<br /><br />The install of the Nexus Open Source is very straightforward - untaring a tar ball - and starting the Nexus server was as easy as bin/nexus start. Sonatype provides a great (free) on-line book on Nexus - <a href="http://www.sonatype.com/books/nexus-book/reference/">Repository Management with Nexus</a>&nbsp;- that provides good instructions on installation and initial configuration. There isn't much configuration by default except for modifying your Apache Maven ~/.m2/settings.xml file to use the Nexus server versus looking on the Internet for dependencies.<br /><br />The biggest challenge I had was since I was dealing with a large project which references ~12 other Maven Repositories (Nexus ships with Maven Central and Apache Repos configured) I had to add in those other repositories into Nexus so it could proxy them. Again the Nexus book provides a <a href="http://www.sonatype.com/books/nexus-book/reference/maven-sect-custom-for-missing.html">great section</a> on how to know your missing a repo entry and how to add custom repos into Nexus. After I did a couple, it was very straightforward to figure out the other 10 or so custom repos that ServiceMix requires.<br /><br />What I saw was that now with Nexus it felt that the ServiceMix built went much faster - maybe 10-20 % - I guessing mostly from just quick all local machine lookups on dependencies. It also felt that Nexus was a little smarter about how it downloaded dependencies from the Internet, not positive on that. Regardless, I noticed a build speed up and a dramatic reduction in network traffic during the build.<br /><br />I also saw that using m2eclipse was much easier, which makes sense since both Nexus and m2eclipse are developed by the folks at Sonatype. m2eclipse will use you personal Maven ~/.m2/settings.xml file, which in my case is now configured to use Nexus, so I automagically get access to all those custom repositories I already configured in Nexus without having to painfully add into Eclipse. This is nice as I can now lookup archetypes in non-Central based repos, and do the "so what dependency do I need to add for this Class" search as well on non Maven Central hosted dependencies.<br /><br />Overall a positive experience. Nice work Sonatype!